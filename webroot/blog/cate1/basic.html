

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Blog</title>
	<link rel="icon" href="../../../render/icon/appletree.png" type="image/png">
	<link rel="stylesheet" href="../../../render/fonts.css">
	<link rel="stylesheet" href="../../../render/search.css">
	<link rel="stylesheet" href="../../../render/style_base.css">
	<link rel="stylesheet" href="../../../render/blog.css">
	<link rel="stylesheet" href="../../../render/style_english.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=ZCOOL+XiaoWei&display=swap" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
	<link rel="stylesheet" href="../../../render/sidebar.css">
	<link rel="stylesheet" href="../../../render/toc.css">
	<link rel="stylesheet" href="../../../render/common.css">
    <link href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-tomorrow.css" rel="stylesheet" />
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        /* 这里放你的CSS代码 */
        .download-btn {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        .download-btn:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>

<!-- theme inspired by fontawesome -->
<div class="search-modal" id="searchModal">
    <div class="search-container">
        <div class="search-input">
            <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input type="text" placeholder="Search" id="searchInput">
            <div class="score-threshold">
                <label for="scoreThreshold">ScoreThreshold: <span id="scoreValue">10</span></label>
                <input type="range" id="scoreThreshold" min="0" max="100" value="10" step="1">
            </div>
        </div>

        <div class="recent-searches">
            No recent searches
        </div>
        <div class="search-footer">
            <div>
                <span>Use 'name' to ensure the content includes the specified name.</span>
            </div>
            <div>
                Search by
                <img src="../../../render/icon/appletree.png"  class="algolia-logo">
            </div>
        </div>
    </div>
</div>

<div class="container"><aside class="toc-container"><nav class="toc-sidebar">
<ul>
<li><a class="toch1" href="#Image">Image</a>
</li>
<li><a class="toch1" href="#Formula">Formula</a>
<ul>
<li><a class="toch2" href="#Inline Formula">Inline Formula</a>
</li>
<li><a class="toch2" href="#Block Formula">Block Formula</a>
<ul>
<li><a class="toch3" href="#Single Line">Single Line</a></li>
<li><a class="toch3" href="#Multi Line">Multi Line</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="toch1" href="#Code">Code</a>
</li>
<li><a class="toch1" href="#List">List</a>
</li>
<li><a class="toch1" href="#Blockquote">Blockquote</a>
</li>
<li><a class="toch1" href="#code block">code block</a>
</li>
<li><a class="toch1" href="#complex">complex</a>
</li>
</ul>
</nav></aside><main>

<div class='disp-toc-header'>
<h1>basic test</h1>
<h2 style="font-family: 'ZCOOL XiaoWei', regular;">2024-4-5</h2>

</div>

<section>
<h1 id="Image">Image</h1>
<p></p><img src="../../../user/blog/cate1/./pic/end.png" style="display: block; margin: 0 auto;width: 50%;" alt="err! email me if you need" data-zoomable><p></p>
<p></p>
<img src="../../../user/blog/cate1/./pic/end.png" style="width: 40%; margin-left: 6%;" alt="err! email me if you need" data-zoomable>
<img src="../../../user/blog/cate1/./pic/end.png" style="width: 40%; margin-left: 6%;" alt="err! email me if you need" data-zoomable>
<p></p>
<p></p>
<img src="../../../user/blog/cate1/./pic/end.png" style="width: 30%; margin-left: 2%;" alt="err! email me if you need" data-zoomable>
<img src="../../../user/blog/cate1/./pic/end.png" style="width: 30%; margin-left: 2%;" alt="err! email me if you need" data-zoomable>
<img src="../../../user/blog/cate1/./pic/end.png" style="width: 30%; margin-left: 2%;" alt="err! email me if you need" data-zoomable>
<p></p>
<figure><figcaption>description</figcaption></figure>
</section>
<section>
<h1 id="Formula">Formula</h1>
<h2 id="Inline Formula">Inline Formula</h2>
<p>The sum of two numbers: \(a + b = b + a\)</p>
<h2 id="Block Formula">Block Formula</h2>
<h3 id="Single Line">Single Line</h3>
<p><div>\[  s = a  \]</div></p>
<h3 id="Multi Line">Multi Line</h3>
<div>\[x + y = y + x\]\[x^2 + y^2 = z^2\]</div>
</section>
<section>
<h1 id="Code">Code</h1>
<p>Inline <code>code snippet</code> example.</p>
</section>
<section>
<h1 id="List">List</h1>
<ul>
<li class="blog_list">First item</li>
<ul>
<li class="blog_list">Nested item</li>
<ul>
<li class="blog_list">Deeper item</li>
<ul>
<li class="blog_list">Deepest item</li>
</ul>
<li class="blog_list">Another nested item</li>
<p style="margin-bottom: 0em;"><div>\[  E = mc^2  \]</div></p>
<p style="margin-bottom: 0em;">This is an inline formula \(f(x) = x^2\).</p>
<blockquote>Blockquote reference inside list.
</blockquote>
<p style="margin-bottom: 0em;"><a class="online" href="https://github.com">Link to GitHub</a></p>
</ul>
</ul>
</ul>
</section>
<section>
<h1 id="Blockquote">Blockquote</h1>
<blockquote>This is a single line blockquote.
</blockquote>
<blockquote>This is another blockquote.
</blockquote>
<blockquote>Multiple lines blockquote:
<p></p>
 Line 1
<p></p>
 Line 2
</blockquote>
</section>
<section>
<h1 id="code block">code block</h1>

<pre>
    <code class="language-cpp">
int main(){
    int x = 0; // z
    string s = &quot;sd&quot;;
}
</code></pre>
<pre><code class="language-python">
def fn():
    return 1
</code></pre>
<pre><code class="language-txt">
overflow overflow overflow overflow overflow overflow overflow overflow overflow overflow overflow overflow overflow 
</code></pre>
<ul>
<li class="blog_list">list</li>
<pre><code class="language-txt">
margin left, but no left margin in this inlist block
</code></pre>
<li class="blog_list">list</li>
<p style="margin-bottom: 0em;">.....</p>
<pre><code class="language-txt">
.....
</code></pre>
<p style="margin-bottom: 0em;">.....</p>
</ul>
</section>
<section>
<h1 id="complex">complex</h1>
<blockquote><a class="online" href="https://github.com">link-in-reference</a>
<p></p>
 <code>code in reference</code>
<p></p>
 formula in reference \( a + b = c\) .
</blockquote>

    <button class="download-btn" onclick="downloadPage()">下载页面</button>

</section>

	
<div class="settings-menu">
    <button class="settings-button">Control</button>
    <div class="settings-options">
        <a class="settings-button" href="../../index.html">home</a>
        <a style="color: var(--basic-black);">width <button id="adjustWidth-add" class="settings-inner-button">+</button> / <button id="adjustWidth-sub" class="settings-inner-button">-</button></a>
        <a class="settings-button" href="../../blog.html">back to blog</a>
    </div>
</div>
</main>
</div>

<script> 
const toch2map = {
'Inline Formula' :{ h1: 'Formula' },
'Block Formula' :{ h1: 'Formula' },
}
const toch3map = {
'Single Line' :{ h1: 'Formula', h2: 'Block Formula' },
'Multi Line' :{ h1: 'Formula', h2: 'Block Formula' },
} 
</script>

<script> 
const blogData = [
{title: "basic test",
date: "2024-4-5",
type: "html",
category: "cate1 multi_cate",
url: "../cate1/basic.html",
keywords: ["Image", "end", "end", "end", "end", "end", "end", "description", "Formula", "Inline", "Formula", "The", "sum", "numbers", "Block", "Formula", "Single", "Line", "Multi", "Line", "^", "^", "^", "Code", "Inline", "snippet", "List", "First", "item", "Nested", "item", "Deeper", "item", "Deepest", "item", "Another", "nested", "item", "E", "mc", "^", "This", "inline", "formula", "^", "Blockquote", "reference", "inside", "list", "Link", "GitHub", "https", "github", "Blockquote", "This", "single", "line", "blockquote", "This", "blockquote", "Multiple", "lines", "blockquote", "Line", "Line", "block", "cpp", "int", "main", "int", "string", "sd", "python", "def", "fn", "return", "txt", "overflow", "overflow", "overflow", "overflow", "overflow", "overflow", "overflow", "overflow", "overflow", "overflow", "overflow", "overflow", "overflow", "list", "txt", "margin", "left", "left", "margin", "inlist", "block", "list", ".....", "txt", ".....", ".....", "complex", "link", "reference", "https", "github", "reference", "formula", "reference"],
scale: 1,
},
{title: "language test",
date: "2024-4-6",
type: "html",
category: "cate2",
url: "../cate2/language.html",
keywords: ["language", "中文", "测试", "english", "english", "test"],
scale: 5,
},
{title: "redirect test",
date: "2024-4-7",
type: "pdf",
category: "cate2",
url: "../../assets/redirect-page/test.pdf",
keywords: [],
scale: 5,
},
{title: "reprint test without note",
date: "2024-10-11",
type: "online",
category: "cate1",
url: "https://zhuanlan.zhihu.com/",
author: "author",
keywords: [],
scale: 5,
},
{title: "reprint test with note",
date: "2024-10-11",
type: "online",
category: "cate1",
url: "https://zhuanlan.zhihu.com/",
author: "author",
note: "../_/example2.html",
keywords: [],
scale: 5,
},
 
];
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js"></script>
<script src="../../../render/sidebar.js"></script> 
<script src="../../../render/common.js"></script> 
<script src="../../../render/toc.js"></script> 
<script src="../../../render/search.js"></script> 
<script src="https://cdn.jsdelivr.net/npm/prismjs/prism.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs/components/prism-python.min.js"></script>

<script>
    function downloadPage() {
        // 获取当前页面的HTML内容
        let htmlContent = document.documentElement.outerHTML;
        
        // 获取所有外部样式表
        const styleSheets = Array.from(document.styleSheets);
        
        // 处理外部样式表
        const processStyleSheets = async () => {
            for (let styleSheet of styleSheets) {
                try {
                    if (styleSheet.href) {
                        if(styleSheet.href.includes('http'))
                            continue
                        console.log('css loc: ['+styleSheet.href+']')
                        const response = await fetch(styleSheet.href);
                        const cssText = await response.text();
                        // 替换外链CSS为内联CSS
                        htmlContent = htmlContent.replace(
                            `<link rel="stylesheet" href="${styleSheet.href}">`,
                            `<style>${cssText}</style>`
                        );
                        
                    }
                } catch (error) {
                    console.error('Error processing stylesheet:', error, styleSheet.href);
                }
            }
        };

        // 获取所有脚本
        const scripts = Array.from(document.getElementsByTagName('script'));
        
        // 处理外部脚本
        const processScripts = async () => {
            for (let script of scripts) {
                try {
                    if (script.src) {
                        if(script.src.includes('http'))
                            continue
                        console.log('js loc: ['+script.src+']')
                        const response = await fetch(script.src);
                        const jsText = await response.text();
                        // 替换外链JS为内联JS - 将标签分开写，避免被解释为结束符
                        const closingScriptTag = "</"+"script";  // 分开写结束标签
                        htmlContent = htmlContent.replace(
                            `<script src="${script.src}">${closingScriptTag}>`,
                            `<script>${jsText}${closingScriptTag}>`
                        );
                        
                    }
                } catch (error) {
                    console.error('Error processing script:', error, script.src);
                }
            }
        };

        // 执行处理并下载
        const processAndDownload = async () => {
            await processStyleSheets();
            await processScripts();

            // 创建下载链接
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'page.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        };

        processAndDownload();
    }
</script>

</body>
</html>
